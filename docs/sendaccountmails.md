<!--
 This file is Free Software under the Apache-2.0 License
 without warranty, see README.md and LICENSES/Apache-2.0.txt for details.

 SPDX-License-Identifier: Apache-2.0

 SPDX-FileCopyrightText: 2025 German Federal Office for Information Security (BSI) <https://www.bsi.bund.de>
 Software-Engineering: 2025 Intevation GmbH <https://intevation.de>
-->

# E-Mail Send Tool

## Overview

This E-Mail Send Tool is a command-line utility that sends account creation emails to users after they have been
registered using the Bulk User Creation Tool. The emails contain login credentials and instructions for accessing the
Quorum Calculator.

Each email is personalized with the recipient's username, password, and Committee name.

## CSV Format

The tool expects a CSV file with two columns:

```csv
nickname,password
alice,9fB3tRxZkL1Q
bob,U7xZd2LmTqP8
```

This CSV file is generated by the bulk user creation tool.

## E-Mail Template

Default email template used by the tool:

```
Dear OASIS {Committee name} TC member,

an account was created for you at the OQC (https://quorum.oasis-open.org).

username: {username}
initial password: {password}

Please change your initial password.

Kind regards,
Your OQC Tool`
```

## Command-Line Usage

```sh
./bin/sendaccountmails -p=passwords.csv -t="TC 1" -h=smtp.example.org
```

### Flags

| Flag | Description                                        | Default         |
|------|----------------------------------------------------|-----------------|
| `-p` | Path to the passwords CSV file.                    | `passwords.csv` |
| `-t` | Name of the Technical Committee (e.g., "TC 1").    | (required)      |
| `-h` | SMTP host for sending emails (port 25 is assumed). | `localhost`     |
